---
title: "Строим граф"
layout: def
categories: unity
impMath: true
excerpt: Checkout
---

# {{ page.title }}

делается прифаб точки
![](https://catlikecoding.com/unity/tutorials/basics/building-a-graph/creating-a-line-of-cubes/prefab-project-two-column.png)

далее, создаётся компонент графа

```
using UnityEngine;
public class Graph : MonoBehaviour {
  [SerializeField] Transform point;
  [SerializeField, Range(10, 100)] int resolution = 10;
  void Awake()
  {
    Vector3 position = default;
    float step = 2f / resolution;
    var scale = Vector3.one * step;
    for (int i = 0; i < resolution; ++i)
    {
      var newPoint = Instantiate(point);
      newPoint.SetParent(transform, false);
      position.x = (i + 0.5f) * step - 1f;
      position.y = f(position.x);
      newPoint.localPosition = position;
      newPoint.localScale = scale;
    }
  }
  float f(float x) => x;
  void Update()
  {
    Vector3 position = default;
    float step = 2f / resolution;
    var scale = Vector3.one * step;
    float time = Time.time;
    foreach (Transform point in transform)
    {
      position.x = point.localPosition;
      position.y = f(position.x, time);
      point.localPosition = position;
      point.localScale = scale;
    }
  }
  float f(float x, float t) => Mathf.Sin(x + t);
}
```
